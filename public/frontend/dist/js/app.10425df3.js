(function(){"use strict";var e={2646:function(e,a,t){var l=t(5130),n=t(6768),o=t(144),u=t(4232);const d=["aria-label","type"];var r={__name:"DsButton",props:{full:{default:!1,type:Boolean},outlined:{default:!1,type:Boolean},text:{default:"",type:String,required:!0}},setup(e){return(a,t)=>((0,n.uX)(),(0,n.CE)("button",(0,n.v6)({"aria-label":e.text,class:["dsButton",{"dsButton--outlined":e.outlined,"dsButton--full":e.full}],type:a.$attrs.type||"button"},a.$attrs),(0,u.v_)(e.text),17,d))}};const i=r;var s=i;const p={class:"dsStepper"},c={class:"dsStepper__header"},m={class:"dsStepper__header__text"},v={class:"dsStepper__highlight"},f={key:0,class:"dsStepper__header__title"},b={class:"dsStepper__content"};var y={__name:"DsStepper",props:{activeStep:{default:0,type:Number},disabledNextStep:{default:!1,type:Boolean},disabledPreviousStep:{default:!1,type:Boolean},nextStepText:{default:"Continuar",type:String},previousStepText:{default:"Voltar",type:String},steps:{default:()=>[],required:!0,type:Array}},emits:["clickedNextStep","clickedPreviousStep"],setup(e,{emit:a}){const t=a,l=()=>t("clickedNextStep"),o=()=>t("clickedPreviousStep");return(a,t)=>((0,n.uX)(),(0,n.CE)("section",p,[(0,n.Lk)("div",c,[(0,n.RG)(a.$slots,"header",{},(()=>[(0,n.Lk)("small",m,[t[0]||(t[0]=(0,n.eW)(" Etapa ")),(0,n.Lk)("span",v,(0,u.v_)(e.activeStep+1),1),(0,n.eW)(" de "+(0,u.v_)(e.steps.length),1)]),e.steps[e.activeStep]?.title?((0,n.uX)(),(0,n.CE)("h4",f,(0,u.v_)(e.steps[e.activeStep]?.title),1)):(0,n.Q3)("",!0)]))]),(0,n.Lk)("div",b,[(0,n.RG)(a.$slots,`step-${e.activeStep}`)]),(0,n.Lk)("div",{class:(0,u.C4)(["dsStepper__actions",{"dsStepper__actions--initial":e.activeStep<1}])},[(0,n.RG)(a.$slots,"actions",{},(()=>[e.activeStep>0?((0,n.uX)(),(0,n.Wv)(s,{key:0,onClick:o,disabled:e.disabledPreviousStep,outlined:"",text:e.previousStepText},null,8,["disabled","text"])):(0,n.Q3)("",!0),(0,n.bF)(s,{onClick:l,disabled:e.disabledNextStep,full:0===e.activeStep,text:e.nextStepText},null,8,["disabled","full","text"])]))],2)]))}};const h=y;var g=h;const S={class:"dsInput"},V=["for"],_={class:"dsInput__wrapper"},F=["disabled","readonly","value","type"],k={key:0,class:"dsInput__footer"};var D={__name:"DsInput",props:{clearable:{default:!1,type:Boolean},disabled:{default:!1,type:Boolean},errorMessages:{default:"",type:String},id:{type:String},label:{type:String},mask:{default:"",type:String},modelValue:{type:[Number,String]},readonly:{default:!1,type:Boolean},type:{default:"text",type:String},value:{type:[Number,String]}},emits:["update:modelValue","clicked:clearable","clicked:icon"],setup(e,{emit:a}){const t=e,l=a,d=(0,n.nI)(),r=t.id?t.id:(0,o.KR)(d.uid),i=(0,o.KR)(null);function s(e){let{value:a}=e.target;"number"===t.type&&(a=String(a)),l("update:modelValue",a)}function p(){l("update:modelValue",""),l("clicked:clearable")}return(a,t)=>{const l=(0,n.gN)("mask");return(0,n.uX)(),(0,n.CE)("div",S,[(0,n.Lk)("label",{class:"dsInput__formLabel",for:(0,o.R1)(r)},(0,u.v_)(e.label),9,V),(0,n.Lk)("div",_,[(0,n.bo)((0,n.Lk)("input",(0,n.v6)({onChange:s,onInput:s,autocomplete:"new-password",class:["dsInput__formInput",{"dsInput__formInput--error":e.errorMessages.length}],disabled:e.disabled,readonly:e.readonly,value:e.modelValue||e.value,ref_key:"input",ref:i,type:e.type},{...a.$attrs,id:(0,o.R1)(r)}),null,16,F),[[l,e.mask||""]]),e.modelValue||e.value?((0,n.uX)(),(0,n.CE)("button",{key:0,onClick:p,class:"dsInput__closeBtn",type:"button"},"X")):(0,n.Q3)("",!0)]),e.errorMessages.length?((0,n.uX)(),(0,n.CE)("div",k,(0,u.v_)(e.errorMessages),1)):(0,n.Q3)("",!0)])}}};const C=D;var P=C;function E(e){const a=(0,o.KR)(""),t=t=>t?String(t).length<e?(a.value=`Deve ter no mínimo ${e} caracteres.`,!1):(a.value="",!0):(a.value="Este campo é obrigatório.",!1);return{minLengthError:a,validateMinLength:t}}function x(){const e=(0,o.KR)(""),a=a=>{if(!a)return e.value="O telefone é obrigatório.",!1;const t=a.replace(/\D/g,"");return t.length<10||t.length>11?(e.value="Formato de telefone inválido (DDD + número).",!1):(e.value="",!0)};return{phoneError:e,validatePhone:a}}t(8111),t(1148);function w(){const e=(0,o.KR)(""),a=a=>{if(!a)return e.value="O CPF é obrigatório.",!1;const t=a.replace(/\D/g,"");if(11===t.length&&Array.from(t).every((e=>e===t[0])))return e.value="CPF inválido.",!1;{let a,l=0;for(let e=1;e<=9;e++)l+=parseInt(t.substring(e-1,e))*(11-e);if(a=10*l%11,10!==a&&11!==a||(a=0),a!==parseInt(t.substring(9,10)))return e.value="CPF inválido.",!1;l=0;for(let e=1;e<=10;e++)l+=parseInt(t.substring(e-1,e))*(12-e);if(a=10*l%11,10!==a&&11!==a||(a=0),a!==parseInt(t.substring(10,11)))return e.value="CPF inválido.",!1}return e.value="",!0};return{cpfError:e,validateCpf:a}}function R(){const e=(0,o.KR)(""),a=a=>{if(!a)return e.value="O CNPJ é obrigatório.",!1;const t=a.replace(/\D/g,"");if(14===t.length&&Array.from(t).every((e=>e===t[0])))return e.value="CNPJ inválido.",!1;{let a=[5,4,3,2,9,8,7,6,5,4,3,2],l=0;for(let e=12;e>=0;e--)l+=parseInt(t.substring(e,e+1))*a[e];let n=l%11,o=n<2?0:11-n;if(o!==parseInt(t.substring(12,13)))return e.value="CNPJ inválido.",!1;a=[6,5,4,3,2,9,8,7,6,5,4,3,2],l=0;for(let e=13;e>=0;e--)l+=parseInt(t.substring(e,e+1))*a[e];n=l%11;let u=n<2?0:11-n;if(u!==parseInt(t.substring(13,14)))return e.value="CNPJ inválido.",!1}return e.value="",!0};return{cnpjError:e,validateCnpj:a}}t(1701);function N(e={}){const a=(0,o.KR)(""),{required:t=!1}=e,l=e=>{if(t&&!e)return a.value="A data é obrigatória.",!1;if(!e)return a.value="",!0;const l=/^(\d{2})\/(\d{2})\/(\d{4})$/;if(!l.test(e))return a.value="Formato de data inválido (DD/MM/YYYY).",!1;const[n,o,u]=e.split("/").map(Number);if(isNaN(n)||isNaN(o)||isNaN(u))return a.value="Data inválida.",!1;if(n<1||n>31||o<1||o>12||u<1e3||u>9999)return a.value="Data inválida.",!1;const d=[0,31,u%4===0&&u%100!==0||u%400===0?29:28,31,30,31,30,31,31,30,31,30,31];return n>d[o]?(a.value="Data inválida.",!1):(a.value="",!0)};return{dateError:a,validateDate:l}}const I={class:"formStepOne"};var O={__name:"FormStepUser",props:{formDefault:{default:()=>{},type:Object},typeDocument:{default:"PF",type:String}},emits:["updateForm"],setup(e,{emit:a}){const t=e,{validateMinLength:l}=E(),{validatePhone:u}=x(),{validateCpf:d}=w(),{validateCnpj:r}=R(),{validateDate:i}=N(),s=a,p=(0,o.KR)({date:"",document:"",name:"",phone:""});return(0,n.sV)((()=>{const{date:e="",document:a="",name:l="",phone:n=""}=t.formDefault;p.value={...p.value,date:e,document:a,name:l,phone:n}})),(0,n.wB)((()=>p.value),(e=>{const a=l(e.name,3)&&l(e.document,11)&&i(e.date,11)&&u(e.phone)&&("PF"===t.typeDocument?d(e.document):r(e.document));s("updateForm",{...e,userStepValid:!a})}),{deep:!0}),(a,t)=>((0,n.uX)(),(0,n.CE)("div",I,[(0,n.bF)(P,{label:"PF"===e.typeDocument?"Nome":"Razão social",placeholder:"Ex: João Gomes",modelValue:p.value.name,"onUpdate:modelValue":t[0]||(t[0]=e=>p.value.name=e)},null,8,["label","modelValue"]),(0,n.bF)(P,{label:"PF"===e.typeDocument?"CPF":"CNPJ",mask:"PF"===e.typeDocument?"###.###.###-##":"##.###.###/####-##",placeholder:"PF"===e.typeDocument?"000.000.000-00":"00.000.000/0000-00",modelValue:p.value.document,"onUpdate:modelValue":t[1]||(t[1]=e=>p.value.document=e)},null,8,["label","mask","placeholder","modelValue"]),(0,n.bF)(P,{label:"Data de "+("PF"===e.typeDocument?"nascimento":"abertura"),placeholder:"Ex: 21/11/1989",mask:"##/##/####",modelValue:p.value.date,"onUpdate:modelValue":t[2]||(t[2]=e=>p.value.date=e)},null,8,["label","modelValue"]),(0,n.bF)(P,{label:"Telefone",placeholder:"(00) 0000-00000",mask:"###########",modelValue:p.value.phone,"onUpdate:modelValue":t[3]||(t[3]=e=>p.value.phone=e)},null,8,["modelValue"])]))}};const T=O;var B=T;const L=["for"],j=["checked","disabled","value"],K={class:"dsRadio__label"};var U={__name:"DsRadio",props:{checked:{default:!1},disabled:{default:!1,type:Boolean},id:{default:()=>null},label:{default:"",type:String},labelAttr:{default:()=>{},type:Object},modelValue:{type:[Boolean,Number,null,String,void 0]},value:{type:[Boolean,Number,null,String,void 0]},name:{type:[Boolean,Number,null,String,void 0]}},emits:["update:modelValue"],setup(e,{emit:a}){const t=e,l=a,d=(0,n.nI)(),r=t.id?t.id:(0,o.KR)(d.uid),i=e=>{const{name:a}=e.target,n=t.value&&!a?t.value:t?.value||a;l("update:modelValue",n)};return(a,t)=>((0,n.uX)(),(0,n.CE)("label",(0,n.v6)({class:["dsRadio",{"dsRadio--disabled":e.disabled,"dsRadio--checked":e.modelValue===e.name||e.modelValue===e.value}],for:(0,o.R1)(r),tabindex:"0"},{...e.labelAttr,for:(0,o.R1)(r)}),[(0,n.Lk)("input",(0,n.v6)({onChange:i,onInput:i,class:["dsRadio__input",{"dsRadio__input--checked":e.modelValue===e.name||e.modelValue===e.value,"dsRadio__input--disabled":e.disabled}],checked:e.modelValue===e.name||e.modelValue===e.value,disabled:e.disabled},{...a.$attrs,name:e.name,id:(0,o.R1)(r)},{type:"radio",value:e.modelValue}),null,16,j),(0,n.Lk)("span",K,(0,u.v_)(e.label),1)],16,L))}};const X=U;var M=X;function $(){const e=(0,o.KR)(""),a=a=>{if(!a)return e.value="O e-mail é obrigatório.",!1;const t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return t.test(a)?(e.value="",!0):(e.value="Formato de e-mail inválido.",!1)};return{emailError:e,validateEmail:a}}const J={class:"formStepOne"};var A={__name:"FormStepConfirm",props:{disabledForm:{default:!1,type:Boolean},formDefault:{default:()=>{},type:Object},typeDocument:{default:"PF",type:String}},emits:["updateForm"],setup(e,{emit:a}){const t=e,{validateMinLength:l}=E(),{validatePhone:u}=x(),{validateCpf:d}=w(),{validateCnpj:r}=R(),{validateDate:i}=N(),{validateEmail:s}=$(),p=a,c=(0,o.KR)({date:"",document:"",email:"",name:"",password:"",phone:""});return(0,n.sV)((()=>{const{date:e="",document:a="",name:l="",phone:n="",email:o="",password:u=""}=t.formDefault;c.value={...c.value,date:e,document:a,name:l,phone:n,email:o,password:u}})),(0,n.wB)((()=>c.value),(e=>{const a=l(e.name,3)&&l(e.document,11)&&l(e.password,6)&&s(c.value.email)&&i(e.date,11)&&u(e.phone)&&("PF"===t.typeDocument?d(e.document):r(e.document));p("updateForm",{...e,confirmStepValid:!a})}),{deep:!0}),(a,t)=>((0,n.uX)(),(0,n.CE)("div",J,[(0,n.bF)(P,{disabled:e.disabledForm,label:"Endereço de e-mail",placeholder:"example@gmail.com",type:"email",modelValue:c.value.email,"onUpdate:modelValue":t[0]||(t[0]=e=>c.value.email=e)},null,8,["disabled","modelValue"]),(0,n.bF)(P,{disabled:e.disabledForm,label:"PF"===e.typeDocument?"Nome":"Razão social",placeholder:"Ex: João Gomes",modelValue:c.value.name,"onUpdate:modelValue":t[1]||(t[1]=e=>c.value.name=e)},null,8,["disabled","label","modelValue"]),(0,n.bF)(P,{disabled:e.disabledForm,label:"PF"===e.typeDocument?"CPF":"CNPJ",mask:"PF"===e.typeDocument?"###.###.###-##":"##.###.###/####-##",placeholder:"PF"===e.typeDocument?"000.000.000-00":"00.000.000/0000-00",modelValue:c.value.document,"onUpdate:modelValue":t[2]||(t[2]=e=>c.value.document=e)},null,8,["disabled","label","mask","placeholder","modelValue"]),(0,n.bF)(P,{disabled:e.disabledForm,label:"Data de "+("PF"===e.typeDocument?"nascimento":"abertura"),placeholder:"Ex: 21/11/1989",mask:"##/##/####",modelValue:c.value.date,"onUpdate:modelValue":t[3]||(t[3]=e=>c.value.date=e)},null,8,["disabled","label","modelValue"]),(0,n.bF)(P,{disabled:e.disabledForm,label:"Telefone",placeholder:"(00) 0000-00000",mask:"###########",modelValue:c.value.phone,"onUpdate:modelValue":t[4]||(t[4]=e=>c.value.phone=e)},null,8,["disabled","modelValue"]),(0,n.bF)(P,{disabled:e.disabledForm,label:"Sua senha",placeholder:"******",type:"password",modelValue:c.value.password,"onUpdate:modelValue":t[5]||(t[5]=e=>c.value.password=e)},null,8,["disabled","modelValue"])]))}};const Q=A;var W=Q;async function G(e){try{const a=await fetch("http://localhost:3000/registration",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!a.ok)throw new Error("Erro na requisição");const t=await a.json();return t}catch(a){return console.error("Erro:",a),null}}const q={class:"gridA"},Y={key:1,class:"appContent__sendedMessage"};var z={__name:"App",setup(e){const{validateEmail:a}=$(),{validateMinLength:t}=E(),u=(0,o.KR)(0),d=(0,o.KR)({date:"",document:"",documentType:"PF",email:"",name:"",password:"",phone:"",userStepValid:!0,confirmStepValid:!1}),r=[{label:"Pessoa física",value:"PF"},{label:"Pessoa jurídica",value:"PJ"}],i=(0,o.KR)(!1),p=(0,o.KR)(!1),c=(0,n.EW)((()=>{const{value:e}=d;return[{title:"Seja bem vindo(a)"},{title:"Pessoa "+("PF"===e.documentType?"física":"juridica")},{title:"Senha de acesso"},{title:"Revise suas informações"}]})),m=(0,n.EW)((()=>0===u.value?!a(d.value.email):1===u.value?d.value.userStepValid:2===u.value?!t(d.value.password,6):3===u.value&&d.value.confirmStepValid)),v=()=>{u.value<c.value.length-1?u.value++:h()},f=()=>{u.value>0&&u.value--},b=e=>d.value={...d.value,...e},y=()=>{d.value={date:"",document:"",documentType:"PF",email:"",name:"",password:"",phone:"",userStepValid:!0,confirmStepValid:!1},u.value=0,p.value=!1},h=async()=>{let{date:e,document:a,documentType:t,email:l,name:n,password:o,phone:u}=d.value;i.value=!0;try{await G({date:e,document:a,documentType:t,email:l,name:n,password:o,phone:u}),p.value=!0}finally{i.value=!1}};return(e,a)=>((0,n.uX)(),(0,n.CE)("form",{onSubmit:(0,l.D$)(h,["prevent"]),autocomplete:"off",class:"appContent"},[p.value?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.Wv)(g,{key:0,onClickedNextStep:v,onClickedPreviousStep:f,activeStep:u.value,disabledNextStep:i.value||m.value,disabledPreviousStep:i.value,nextStepText:i.value?"Enviando dados":u.value>2?"Cadastrar":"Continuar",steps:c.value},{"step-0":(0,n.k6)((()=>[(0,n.bF)(P,{label:"Endereço de e-mail",placeholder:"example@gmail.com",type:"email",modelValue:d.value.email,"onUpdate:modelValue":a[0]||(a[0]=e=>d.value.email=e)},null,8,["modelValue"]),(0,n.Lk)("div",q,[((0,n.uX)(),(0,n.CE)(n.FK,null,(0,n.pI)(r,((e,t)=>(0,n.bF)(M,{label:e.label,key:t,name:"radios",modelValue:d.value.documentType,"onUpdate:modelValue":a[1]||(a[1]=e=>d.value.documentType=e),value:e.value},null,8,["label","modelValue","value"]))),64))])])),"step-1":(0,n.k6)((()=>[(0,n.bF)(B,{onUpdateForm:b,formDefault:d.value,typeDocument:d.value.documentType},null,8,["formDefault","typeDocument"])])),"step-2":(0,n.k6)((()=>[(0,n.bF)(P,{label:"Sua senha",placeholder:"******",type:"password",modelValue:d.value.password,"onUpdate:modelValue":a[2]||(a[2]=e=>d.value.password=e)},null,8,["modelValue"])])),"step-3":(0,n.k6)((()=>[(0,n.bF)(W,{onUpdateForm:b,disabledForm:i.value,formDefault:d.value,typeDocument:d.value.documentType},null,8,["disabledForm","formDefault","typeDocument"])])),_:1},8,["activeStep","disabledNextStep","disabledPreviousStep","nextStepText","steps"])),p.value?((0,n.uX)(),(0,n.CE)("div",Y,[a[3]||(a[3]=(0,n.Lk)("p",null,"Dados enviados com sucesso !",-1)),(0,n.bF)(s,{onClick:y,text:"Voltar"})])):(0,n.Q3)("",!0)],32))}};const H=z;var Z=H;function ee(e,a){let t=e.value.replace(/\D/g,""),l="",n=0,o=0;while(n<a.length&&o<t.length)"#"===a[n]?(l+=t[o],o++):l+=a[n],n++;e.value=l,e.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!0}))}var ae={mounted(e,a){const t=a.value;t&&(e.addEventListener("input",(()=>ee(e,t))),e.value&&ee(e,t))},updated(e,a){const t=a.value,l=a.oldValue;t!==l&&t&&ee(e,t)}};const te=(0,l.Ef)(Z);te.directive("mask",ae),te.mount("#app")}},a={};function t(l){var n=a[l];if(void 0!==n)return n.exports;var o=a[l]={exports:{}};return e[l].call(o.exports,o,o.exports,t),o.exports}t.m=e,function(){var e=[];t.O=function(a,l,n,o){if(!l){var u=1/0;for(s=0;s<e.length;s++){l=e[s][0],n=e[s][1],o=e[s][2];for(var d=!0,r=0;r<l.length;r++)(!1&o||u>=o)&&Object.keys(t.O).every((function(e){return t.O[e](l[r])}))?l.splice(r--,1):(d=!1,o<u&&(u=o));if(d){e.splice(s--,1);var i=n();void 0!==i&&(a=i)}}return a}o=o||0;for(var s=e.length;s>0&&e[s-1][2]>o;s--)e[s]=e[s-1];e[s]=[l,n,o]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var l in a)t.o(a,l)&&!t.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:a[l]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){var e={524:0};t.O.j=function(a){return 0===e[a]};var a=function(a,l){var n,o,u=l[0],d=l[1],r=l[2],i=0;if(u.some((function(a){return 0!==e[a]}))){for(n in d)t.o(d,n)&&(t.m[n]=d[n]);if(r)var s=r(t)}for(a&&a(l);i<u.length;i++)o=u[i],t.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return t.O(s)},l=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];l.forEach(a.bind(null,0)),l.push=a.bind(null,l.push.bind(l))}();var l=t.O(void 0,[504],(function(){return t(2646)}));l=t.O(l)})();
//# sourceMappingURL=app.10425df3.js.map